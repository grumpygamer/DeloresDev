<html><head><link rel='stylesheet' href='../HelpDocs/help.css'><link href='https://fonts.googleapis.com/css?family=Roboto:300|Ubuntu:300' rel='stylesheet'></head><body><span class='button'><a href='home.html'>Home</a></span><span class='button'><a href='index.html'>Index</a></span><html><head><link rel='stylesheet' href='help.css'></head><body><h1>Strings</h1><div class='section text'></div><div class='function_list'><div id='34' class='function'>stringreplace(string, find, replace)<div class='desc'>Returns a copy of string with <span class='inline_code'>find</span> replaced with <span class='inline_code'>replace</span></div><div class='function text'></div></div><div id='35' class='function'>strstartswith(string, head)<div class='desc'>Returns <span class='inline_code'>true</span> if <span class='inline_code'>string</span> starts with <span class='inline_code'>head</span></div><div class='function text'></div></div><div id='36' class='function'>strendswith(string, tail)<div class='desc'>Returns <span class='inline_code'>true</span> if <span class='inline_code'>string</span> ends with <span class='inline_code'>tail</span></div><div class='function text'></div></div><div id='37' class='function'>strfirst(string)<div class='desc'>Returns the first character of a <span class='inline_code'>string</span></div><div class='function text'>Character is returned as a <span class='inline_code'>string</span>. <div class='code_block'>s = <span class='string'>"abc"</span>
<span class='keyword'>print</span>(<span class='keyword'>strfirst</span>(s))     <span class='comment'>// <span class='string'>"a"</span></span>
</div></div></div><div id='38' class='function'>strlast(string)<div class='desc'>Returns the last character of a string</div><div class='function text'>Character is returned as a <span class='inline_code'>string</span>. <div class='code_block'>s = <span class='string'>"abc"</span>
<span class='keyword'>print</span>(<span class='keyword'>strfirst</span>(s))     <span class='comment'>// <span class='string'>"c"</span></span>
</div></div></div><div id='39' class='function'>strfind(string, needle)<div class='desc'>Returns zero based index of <span class='inline_code'>needle</span> in <span class='inline_code'>string</span></div><div class='function text'>If the <span class='inline_code'>needle</span> can't be found, it returns <span class='inline_code'>null</span> </div></div><div id='40' class='function'>strfindi(string, needle)<div class='desc'>Returns zero based index of case insensitive <span class='inline_code'>needle</span> in <span class='inline_code'>string</span></div><div class='function text'>If the <span class='inline_code'>needle</span> can't be found, it returns <span class='inline_code'>null</span> </div></div><div id='41' class='function'>strcount(string, needle)<div class='desc'>Returns the number of times <span class='inline_code'>needle</span> is found in <span class='inline_code'>string</span>.</div><div class='function text'><div class='code_block'>s = <span class='string'>"bob bob bob tony bob"</span>
<span class='keyword'>print</span>(<span class='keyword'>strcount</span>(s, <span class='string'>"bob"</span>))     <span class='comment'>// 4</span>
</div></div></div><div id='42' class='function'>strslice(string, start, end)<div class='desc'>Returns a <span class='inline_code'>string</span> sliced from index <span class='inline_code'>start</span> to index <span class='inline_code'>end</span> inclusivly.</div><div class='function text'>If <span class='inline_code'>end</span> is omitted, the <span class='inline_code'>string</span> from <span class='inline_code'>start</span> to the end of the <span class='inline_code'>string</span> is returned.<div class='line_break'></div> If <span class='inline_code'>end</span> is before <span class='inline_code'>start</span> a empty <span class='inline_code'>string</span> is returned. If <span class='inline_code'>start</span> or <span class='inline_code'>end</span> is negative, the index is from the end of the <span class='inline_code'>string</span>. <div class='code_block'><span class='keyword'>local</span> s = <span class='string'>"0123456789"</span>
<span class='keyword'>print</span>(<span class='keyword'>strslice</span>(s, 0, 5))     <span class='comment'>// <span class='string'>"012345"</span></span>
<span class='keyword'>print</span>(<span class='keyword'>strslice</span>(s, 6))        <span class='comment'>// <span class='string'>"6789"</span></span>
<span class='keyword'>print</span>(<span class='keyword'>strslice</span>(s, 4, 4))     <span class='comment'>// <span class='string'>"4"</span></span>
<span class='keyword'>print</span>(<span class='keyword'>strslice</span>(s, -4, -3))   <span class='comment'>// <span class='string'>"67"</span></span>
<span class='keyword'>print</span>(<span class='keyword'>strslice</span>(s, -5))       <span class='comment'>// <span class='string'>"56789"</span></span>
<span class='keyword'>print</span>(<span class='keyword'>strslice</span>(s, 0, -2))    <span class='comment'>// <span class='string'>"012345678"</span></span>
</div></div></div><div id='43' class='function'>strlen(string)<div class='desc'>Returns the length of the string</div><div class='function text'>This is really the number of bytes of the string and will fail with utf-8 strings contaning non-ascii. </div></div><div id='44' class='function'>strlower(string)<div class='desc'>Returns a new string in all lowercase.</div><div class='function text'><div class='code_block'>s = <span class='string'>"ABcdEF"</span>
<span class='keyword'>print</span>(strlower(s))     <span class='comment'>// <span class='string'>"abcdef"</span></span>
</div></div></div><div id='45' class='function'>strupper(string)<div class='desc'>Returns a new string in all uppercase.</div><div class='function text'><div class='code_block'>s = <span class='string'>"ABcdEF"</span>
<span class='keyword'>print</span>(strlower(s))     <span class='comment'>// <span class='string'>"ABCDEF"</span></span>
</div></div></div><div id='46' class='function'>strhash(string)<div class='desc'>Returns 32-bit hash of the string</div><div class='function text'><div class='code_block'><span class='keyword'>local</span> s = <span class='string'>"Thimbleweed Park"</span>
<span class='keyword'>print</span>(<span class='keyword'>strhash</span>(s))        <span class='comment'>// -853823676</span>
</div></div></div><div id='47' class='function'>strsplit(string, marker)<div class='desc'>Splits a <span class='inline_code'>string</span> into an array of <span class='inline_code'>strings</span></div><div class='function text'>The <span class='inline_code'>marker</span> need to be a single character <span class='inline_code'>string</span> <div class='code_block'>s = <span class='string'>"first-second-third"</span>
a = <span class='keyword'>strsplit</span>(s, <span class='string'>"-"</span>)
<span class='keyword'>print</span>(a[0])       <span class='comment'>// <span class='string'>"first"</span></span>
<span class='keyword'>print</span>(a[1])       <span class='comment'>// <span class='string'>"second"</span></span>
<span class='keyword'>print</span>(a[2])       <span class='comment'>// <span class='string'>"third"</span></span>
s = <span class='string'>"first--third"</span>
a = <span class='keyword'>strsplit</span>(s, <span class='string'>"-"</span>)
<span class='keyword'>print</span>(a[0])       <span class='comment'>// <span class='string'>"first"</span></span>
<span class='keyword'>print</span>(a[1])       <span class='comment'>// <span class='string'>""</span></span>
<span class='keyword'>print</span>(a[2])       <span class='comment'>// <span class='string'>"third"</span></span>
</div></div></div><div id='48' class='function'>strseperate(string, markers)<div class='desc'>Returns an <span class='inline_code'>array</span> of <span class='inline_code'>strings</span> seperated by any characters in <span class='inline_code'>markers</span></div><div class='function text'><div class='code_block'><span class='keyword'>local</span> s = <span class='string'>"abc---def--===---ghi=-=-=-=jkl------"</span>
<span class='keyword'>local</span> a = <span class='keyword'>strseperate</span>(s, <span class='string'>"-="</span>)
<span class='keyword'>foreach</span> (s <span class='keyword'>in</span> a) {
    <span class='keyword'>print</span>(s)      <span class='comment'>// prints <span class='string'>"abc"</span>, then <span class='string'>"def"</span>, <span class='string'>"ghi"</span>, and <span class='string'>"jkl"</span></span>
}
</div></div></div><div id='49' class='function'>strjoin(array, glue)<div class='desc'>Returns a <span class='inline_code'>string</span> of an array of <span class='inline_code'>strings</span> joined with the <span class='inline_code'>glue</span></div><div class='function text'><div class='code_block'><span class='keyword'>local</span> s = <span class='keyword'>strjoin</span>([<span class='string'>"rita"</span>, <span class='string'>"betsy"</span>, <span class='string'>"mary"</span>], <span class='string'>","</span>)
<span class='keyword'>print</span>(s)      <span class='comment'>// <span class='string'>"rita,betsy,mary"</span></span>
</div></div></div><div id='50' class='function'>strlines(string)<div class='desc'>Returns an <span class='inline_code'>array</span> of <span class='inline_code'>strings</span> seperated by cr or lf.</div><div class='function text'>Useful for reading a file from disk and breaking it into lines. </div></div><div id='51' class='function'>strguid(type, length=32)<div class='desc'>Returns a random GUID of <span class='inline_code'>type</span> and <span class='inline_code'>length</span></div><div class='function text'>the <span class='inline_code'>type</span> can be one of the following:<div class='line_break'></div> 1 = Alpha (ABCDEFGHIJKLMNOPQRSTUVWXYZ)<div class='line_break'></div> 2 = Digits (0123456789)<div class='line_break'></div> 3 = Alpha+digits (ABCDEF0123456789)<div class='line_break'></div> 4 = Safe alpha (ABCDEFGHKMNPQRSTUVWXYZ)<div class='line_break'></div> 5 = Safe alpha+digits (ABCDEFGHKMNPQRSTUVWXYZ23456789)<div class='line_break'></div> 6 = Hex digits (ABCDEF0123456789)<div class='line_break'></div> 7 = GUID (012345678-9ABC-DEF0-1234-56789ABCDEF0)<div class='line_break'></div> 8 = MongoID (0123456789abcdef012345678)<div class='line_break'></div> 9 = Hex lowercase digits (0123456789abcdef) <div class='code_block'>s = strguid(1)    <span class='comment'>// <span class='string'>"AKUJEDFFSFPCYPHBJXDGCLKGTTTXTEXM"</span></span>
s = strguid(2)    <span class='comment'>// <span class='string'>"06424169963749469047716156517578"</span></span>
s = strguid(3)    <span class='comment'>// <span class='string'>"39SAJVDH36KXEL2NEHXL469LJVMS2BQY"</span></span>
s = strguid(4)    <span class='comment'>// <span class='string'>"CKAEPKBAGYGQDXBBUREURGXZWMSPERRW"</span></span>
s = strguid(5)    <span class='comment'>// <span class='string'>"DXEBBXZP8HYVYAR647P4EGEZHUQ4K73B"</span></span>
s = strguid(6)    <span class='comment'>// <span class='string'>"101B6A16BD70211E9ED162600F050856"</span></span>
s = strguid(7)    <span class='comment'>// <span class='string'>"5148013B-A2D2-044F-9B63-1763932CDE15"</span></span>
s = strguid(8)    <span class='comment'>// <span class='string'>"69b411d3fdc4faa3958bc8bc"</span></span>
s = strguid(9)    <span class='comment'>// <span class='string'>"e2393f86e98537f8f660b270b6f2c29b"</span></span>
s = strguid(1, 5) <span class='comment'>// <span class='string'>"XJUGH"</span></span>
</div></div></div><div id='77' class='function'>format(format, ...)<div class='desc'>Returns a formatted string</div><div class='function text'><div class='code_block'><span class='keyword'>local</span> s = <span class='keyword'>format</span>(<span class='string'>"%d"</span>, 100)
</div><span class='inline_code'>s</span> is now <span class='inline_code'>100</span> <div class='code_block'><span class='keyword'>local</span> s = <span class='keyword'>format</span>(<span class='string'>"%s"</span>, <span class='string'>"Ester"</span>)
</div><span class='inline_code'>s</span> is now <span class='inline_code'>Ester</span> <div class='code_block'><span class='keyword'>local</span> s = <span class='keyword'>format</span>(<span class='string'>"%s is %d years old"</span>, <span class='string'>"Ester"</span>, 89)
</div><span class='inline_code'>s</span> is now <span class='inline_code'>Ester is 89 years old</span> <div class='line_break'></div> The <span class='inline_code'>format</span> function should not be used in time-critical situations. </div></div><div id='16' class='function'>compilestring(string)<div class='desc'>Compiles a string into a callable function.</div><div class='function text'><div class='code_block'><span class='keyword'>local</span> f = compilestring(<span class='string'>"<span class='keyword'>return</span> 100"</span>)
n = f()   <span class='comment'>// n is 100</span>
</div></div></div></div><p class='copyright'>Copyright 2020 Terrible Toybox, Inc. All Rights Reserved.</p></body></html>