<html><head><link rel='stylesheet' href='../HelpDocs/help.css'><link href='https://fonts.googleapis.com/css?family=Roboto:300|Ubuntu:300' rel='stylesheet'></head><body><span class='button'><a href='home.html'>Home</a></span><span class='button'><a href='index.html'>Index</a></span><html><head><link rel='stylesheet' href='help.css'></head><body><h1>Dinky Expressions</h1><div class='section text'><div class='line_break'></div> Expressions in Dinky are anything that returns a single value.  They can be as simple as <span class='inline_code'>2</span> or <span class='inline_code'>a+100</span> or more complex operations like <span class='inline_code'>a+((5/2)*10)</span> and <span class='inline_code'>a ? 10 : 20</span>. <div class='line_break'></div> Expressions can be assigned to variables or passed to functions. <div class='code_block'><span class='keyword'>local</span> a = 67*6
setScore(hits*100)
</div>Expressions perform what is called <b>const folding</b>.  If you write <span class='inline_code'>10+9</span> the compiler will emit <span class='inline_code'>19</span>. You can do complex math operations at run-time without fear of performance issues. If you do <span class='inline_code'>a+9*10</span> the compile will generate <span class='inline_code'>a+90</span>. <div class='line_break'></div> </div><div class='function_list'><div id='2' class='function'>+, -, *, /, %<div class='desc'>Math operators</div><div class='function text'><div class='line_break'></div> </div></div><div id='3' class='function'>~, !<div class='desc'>Unary operators</div><div class='function text'><div class='line_break'></div> </div></div><div id='4' class='function'>==, !=, <, >, <=, >=<div class='desc'>Comparison operators</div><div class='function text'><div class='line_break'></div> </div></div><div id='5' class='function'>|, &<div class='desc'>Bit-wise</div><div class='function text'><div class='line_break'></div> </div></div><div id='6' class='function'>&&, ||<div class='desc'>Logical operators</div><div class='function text'><div class='code_block'><span class='keyword'>if</span> (foo && bar) {
    ...
}
</div>Logical comparisons perform what is called "short circuiting".  If <span class='inline_code'>a == 0</span> and <span class='inline_code'>b == 1</span>, doing <span class='inline_code'>if (a && b)</span> will only compare <span class='inline_code'>a</span> before skipping the rest of the comparison.  This is important when doing <span class='inline_code'>if (funcA() && funcB())</span> and running <span class='inline_code'>funcA()</span> and <span class='inline_code'>funcB()</span> is time consuming. <div class='line_break'></div> </div></div><div id='7' class='function'>+=, -=, *=, /=, |=, &=, ++, --<div class='desc'>Assignment operators</div><div class='function text'><div class='code_block'><span class='keyword'>local</span> v = 10
v += 2
v -= 1

v++
v--
++v
--v

</div>The <span class='inline_code'>++</span> and <span class='inline_code'>--</span> operator can be applied before or after evaluating the variable.  If you do <div class='code_block'><span class='keyword'>local</span> v = 6
<span class='keyword'>if</span> (++v == 7) { ... }   <span class='comment'>// <span class='keyword'>true</span></span>
<span class='keyword'>if</span> (v++ == 7) { ... }   <span class='comment'>// <span class='keyword'>true</span></span>
<span class='keyword'>if</span> (v == 8) { ... }     <span class='comment'>// <span class='keyword'>true</span></span>

</div></div></div><div id='8' class='function'>a?b:c | a?:c<div class='desc'>Trinary operators</div><div class='function text'>If <span class='inline_code'>a</span> is true, then <span class='inline_code'>b</span> is returned, otherwise <span class='inline_code'>c</span>. <div class='code_block'><span class='keyword'>local</span> found = (name == <span class='string'>"Delores"</span> ? <span class='keyword'>true</span> : <span class='keyword'>false</span>)
</div>Dinky also supports a special version that return <span class='inline_code'>a</span> if <span class='inline_code'>a</span> is true, otherwise <span class='inline_code'>c</span>.  This can be useful in cases like <span class='inline_code'>bigFunc() ?: 0</span>.  If <span class='inline_code'>bugFunc()</span> is computationally expensive, you don't want to execute it twice. <div class='code_block'>actor = findActor(<span class='keyword'>point</span>(x,y))?:ransome

</div></div></div></div><p class='copyright'>Copyright 2020 Terrible Toybox, Inc. All Rights Reserved.</p></body></html>