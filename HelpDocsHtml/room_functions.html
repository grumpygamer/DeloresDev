<html><head><link rel='stylesheet' href='../HelpDocs/help.css'><link href='https://fonts.googleapis.com/css?family=Roboto:300|Ubuntu:300' rel='stylesheet'></head><body><span class='button'><a href='home.html'>Home</a></span><span class='button'><a href='index.html'>Index</a></span><html><head><link rel='stylesheet' href='help.css'></head><body><h1>Room Functions</h1><div class='section text'><div class='line_break'></div> A <span class='inline_code'>room</span> is basically a screen that <span class='inline_code'>objects</span> and <span class='inline_code'>actors</span> can be placed into.  A room also has <span class='inline_code'>walkboxes</span> that define the pathing an <span class='inline_code'>actor</span> can use when walking around. <div class='line_break'></div> The tool <a href='wimpy.html'><span class='inline_code'>Wimpy</span></a> is used to define the visual characteristic of a room and it's <span class='inline_code'>objects</span> <div class='line_break'></div> The <span class='inline_code'>enterRoom()</span> command changes rooms and there is a global <span class='inline_code'>currentRoom</span> variable that always hold the current room. <div class='line_break'></div> </div><div class='function_list'><div id='2' class='function'>defineRoom(table)<div class='desc'>Defines a room using <span class='inline_code'>table</span> as it's code.</div><div class='function text'>The <span class='inline_code'>table</span> can not be reused for two different rooms.<div class='line_break'></div> When the room is created a <span class='inline_code'>_id</span> variable is added to the table that is the room's unique id.<div class='line_break'></div> Another variable called <span class='inline_code'>_key</span> is also added which represents the name of the room used to load the <span class='inline_code'>.wimpy</span> file. </div></div><div id='3' class='function'>enterRoom(room|object[,door])<div class='desc'>Causes the game to enter a new room</div><div class='function text'>If passed an <span class='inline_code'>object</span>, the room will be the room the object is defined in. If passed a <span class='inline_code'>door</span> then the camera will be at that object. </div></div><div id='4' class='function'>findRoom(name|id|room)<div class='desc'>Returns a room from it's name, id or table.</div><div class='function text'></div></div><div id='5' class='function'>roomSize(room)<div class='desc'>Returns the size of a room based on it's image size.</div><div class='function text'></div></div><div id='6' class='function'>roomToScreen(point)<div class='desc'>Returns the screen coordinates of a <span class='inline_code'>point</span> in the current room.</div><div class='function text'></div></div><div id='7' class='function'>screenToRoom(point)<div class='desc'>Returns the room coordinates of a <span class='inline_code'>point</span> on the screen.</div><div class='function text'></div></div><div id='12' class='function'>addTrigger(trigger, func)<div class='desc'>Returns the id of the new trigger added to the room.</div><div class='function text'>Triggers need to be reset everytime roon.enter() is called.  The id returned is just the object id for the object and doesn't need to be retained unless multiple triggers are being created from one object. </div></div><div id='13' class='function'>removeTrigger(object|id)<div class='desc'>Removed a trigger from the room</div><div class='function text'></div></div><div id='14' class='function'>enableTrigger(trigger_id, state)<div class='desc'>Enable or disables a trigger based on <span class='inline_code'>state</span></div><div class='function text'></div></div><div id='15' class='function'>findObjectAt(pos)<div class='desc'>Returns a touchable object at the room cordinates.</div><div class='function text'>This follows the same touchable/invisible rules that game uses for finding objects. </div></div><div id='16' class='function'>findActorAt(pos)<div class='desc'>Returns a touchable actor at the room cordinates.</div><div class='function text'>This follows the same touchable/invisible rules that game uses for finding actorss. </div></div><div id='17' class='function'>findActorObjectAt(pos)<div class='desc'>Returns a touchable actor or object at the room cordinates.</div><div class='function text'>This follows the same touchable/invisible rules that game uses for finding objects and actors. Actors have a higher priority than objects. <span class='inline_code'>findActorObjectAt()</span> will never return the selectedActor. </div></div><div id='18' class='function'>roomLayer(room, layer, state)<div class='desc'>Show or hide a room layer.</div><div class='function text'></div></div><div id='19' class='function'>walkboxHidden(name, state)<div class='desc'>Sets a walkbox hidden state to <span class='inline_code'>state</span></div><div class='function text'>This only works for walkboxes in the current room. The function returns the number of walkboxes effected by the change. </div></div><div id='20' class='function'>ambientLight([room,]color)<div class='desc'>Set the ambient light for a room.</div><div class='function text'></div></div><div id='21' class='function'>roomLightPosition(id, pos|object)<div class='desc'>Set the position of a light for a room.</div><div class='function text'></div></div><div id='22' class='function'>roomLightEnable(id, state)<div class='desc'>Enables or disables a room light.</div><div class='function text'></div></div><div id='23' class='function'>clampInWalkbox(pos[,pos2])<div class='desc'>Finds a point that is clamped in walkboxes.</div><div class='function text'></div></div></div><p class='copyright'>Copyright 2020 Terrible Toybox, Inc. All Rights Reserved.</p></body></html>