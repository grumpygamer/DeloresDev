<html><head><link rel='stylesheet' href='../HelpDocs/help.css'><link href='https://fonts.googleapis.com/css?family=Roboto:300|Ubuntu:300' rel='stylesheet'></head><body><span class='button'><a href='home.html'>Home</a></span><span class='button'><a href='index.html'>Index</a></span><html><head><link rel='stylesheet' href='help.css'></head><body><h1>Game Functions</h1><div class='section text'><div class='line_break'></div> </div><div class='function_list'><div id='2' class='function'>overlayColor(color)<div class='desc'>Sets the screen overlay color.</div><div class='function text'></div></div><div id='3' class='function'>overlayFlashColor(color,time)<div class='desc'>Flashes an overlay <span class='inline_code'>color</span> for <span class='inline_code'>time</span> seconds.</div><div class='function text'></div></div><div id='4' class='function'>overlayColorTo<div class='desc'>Changes the overlay to <span class='inline_code'>color</span> over <span class='inline_code'>time</span> seconds.</div><div class='function text'></div></div><div id='5' class='function'>createFont(name,size)<div class='desc'>Creates and returns a font from a .ttf at the given <span class='inline_code'>size</span></div><div class='function text'>Any function that needs a font (like <span class='inline_code'>createTextImage()</span>) require a font created with <span class='inline_code'>createFont()</span>. The <span class='inline_code'>size</span> of the font is fixed at creation. If you require a different <span class='inline_code'>size</span> you'll need to create a new <span class='inline_code'>font</span>.  Best practice is to create all the <span class='inline_code'>fonts</span> and <span class='inline_code'>sizes</span> you need at boot and use them as needed.  Scaling the image made from <span class='inline_code'>createTextImage()</span> too much can create blurry characters and it's best to create a new font at the right size. <div class='line_break'></div> Pixel fonts need to be created at the base size of the original .ttf file.  They can safely be scaled up in whole number multiples. <div class='code_block'>font = createFont(<span class='string'>"Savior.ttf"</span>, 16)
image = createTextImage(font, <span class='string'>"Hi there, nice day!"</span>)
</div>There is no way to delete a font, so create them once and use them for the rest of the game. </div></div><div id='6' class='function'>fontProps(font,props_table)<div class='desc'>Alter various properties of a font.</div><div class='function text'><div class='code_block'>fontProps(font, { <span class='string'>"lineSpacing"</span>: 20,
                  <span class='string'>"baseLine"</span>: -2 })
</div>Changing properties have a global effect on all images rendered with the font.  If you need the same font with different properties, create two fonts. </div></div><div id='7' class='function'>roomForID(id)<div class='desc'>Returns a room <span class='inline_code'>table</span> for the given <span class='inline_code'>int</span> id.</div><div class='function text'></div></div><div id='8' class='function'>objectForID(id)<div class='desc'>Returns a object <span class='inline_code'>table</span> for the given <span class='inline_code'>int</span> id.</div><div class='function text'></div></div><div id='9' class='function'>flipDir(dir)<div class='desc'>Returns a 180 deg flip of a direction.</div><div class='function text'><div class='code_block'>dir = flipDir(DIR_RIGHT)    <span class='comment'>// dir is now DIR_LEFT</span>
</div></div></div><div id='10' class='function'>refreshUI(state)<div class='desc'>Causes the game UI to refresh.</div><div class='function text'>This includes refreshing all hover states for objects.  If you change the name or show/hide an <span class='inline_code'>object</span> the UI might need to be refreshed.  For the most part this is handled automatically. If you're finding you need a lot of <span class='inline_code'>refreshUI()</span> command in your code, the engine might need to change.<div class='line_break'></div> <b>state == 0</b><div class='line_break'></div> Hover stats are refresh and <span class='inline_code'>_hoverObject</span> called  as needed.<div class='line_break'></div> Useful when an object name changes but it's not automatically caught by the system.<div class='line_break'></div> <b>state == 1</b><div class='line_break'></div> All hover and drag states are cleared. Useful for going into cutscenes and the like.<div class='line_break'></div> New hovers will not be called until the mouse moves (assuming input is on). </div></div><div id='11' class='function'>iskeydown(key)<div class='desc'>Returns <span class='inline_code'>true</span> if the <span class='inline_code'>key</span> is being held down.</div><div class='function text'>Any key being held down is checked, this included keys like shift and control. The modified state of a key is not checked so you only know the 'a' key is down, not 'A'. Be careful of non-US keyboards where the shifted version of a key might not be the same.  If that matters, it's best to use the <span class='inline_code'>keyDown(key, flags)</span> callback event. <div class='code_block'><span class='keyword'>if</span> (iskeydown('a')) { ... }
<span class='keyword'>if</span> (iskeydown(KEY_SHIFT_LEFT)) { ... }
<span class='keyword'>if</span> (iskeydown(KEY_CONTROL_RIGHT)) { ... }
<span class='keyword'>if</span> (iskeydown(KEY_DOWN)) { .. }
</div></div></div><div id='12' class='function'>inputState([state])<div class='desc'>Set or get the current input state.</div><div class='function text'>Setting input state to OFF will prevent all mouse/touch events, but won't stop key presses from being passed on. The game system will stop them from being passed to game code. </div></div><div id='13' class='function'>freezeGame([state])<div class='desc'>Freezes the game or returns the freeze state.</div><div class='function text'>When the game is frozen, all scripts are paused (even unpausesable ones) and only keyboard input is passed to the game.  No new scripts can be started while the game is in a frozen state. </div></div><div id='14' class='function'>pauseGame([state])<div class='desc'>pauses the game or returns the pause state.</div><div class='function text'>When the game is paused, all scripts are paused (even unpausesable ones) and only keyboard input is passed to the game.  No new scripts can be started while the game is in a frozen state. </div></div><div id='21' class='function'>quitGame()<div class='desc'>Quits the game and saves all Pref files.</div><div class='function text'></div></div><div id='22' class='function'>gameFullscreen([state])<div class='desc'>If passed <span class='inline_code'>state</span> changes fullscreen mode, otherwises returns screen state.</div><div class='function text'></div></div></div><p class='copyright'>Copyright 2020 Terrible Toybox, Inc. All Rights Reserved.</p></body></html>