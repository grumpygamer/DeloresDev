<html><head><link rel='stylesheet' href='../HelpDocs/help.css'><link href='https://fonts.googleapis.com/css?family=Roboto:300|Ubuntu:300' rel='stylesheet'></head><body><span class='button'><a href='home.html'>Home</a></span><span class='button'><a href='index.html'>Index</a></span><html><head><link rel='stylesheet' href='help.css'></head><body><h1>Arrays</h1><div class='section text'></div><div class='function_list'><div id='52' class='function'>array() | array(size,value=null)<div class='desc'>Returns a new array of <span class='inline_code'>size</span> elements filled with 'value'</div><div class='function text'>If <span class='inline_code'>size</span> is omitted it is assumed to be <span class='inline_code'>0</span>. </div></div><div id='53' class='function'>arrayappend(array, value)<div class='desc'>Appends <span class='inline_code'>value</span> to the end of an array.</div><div class='function text'></div></div><div id='54' class='function'>arrayprepend(array, value)<div class='desc'>Prepends <span class='inline_code'>value</span> to the beginning of an array.</div><div class='function text'></div></div><div id='55' class='function'>arrayadd(array, value)<div class='desc'>Appended <span class='inline_code'>value</span> to the end only if it doesn't already exist in the array.</div><div class='function text'></div></div><div id='56' class='function'>arrayresize(array,size,value=null)<div class='desc'>Resizes an array to <span class='inline_code'>size</span> elements</div><div class='function text'>If the array is smaller than <span class='inline_code'>size</span> it will be truncated.  If the new <span class='inline_code'>size</span> is larger, <span class='inline_code'>value</span> will be used for the new elements. </div></div><div id='57' class='function'>arrayextend(array, array2)<div class='desc'>Appends <span class='inline_code'>array2</span> to the end of <span class='inline_code'>array</span>.</div><div class='function text'>This is different from arrayappend in that the <span class='inline_code'>array</span> is added to the end, not added as an element <div class='code_block'>a1 = [1,2,3]
a2 = [4,5,6]
<span class='keyword'>arrayadd</span>(a1,a2)
</div><span class='inline_code'>a2</span> is now <span class='inline_code'>[1,2,3,4,5,6]</span> <div class='code_block'>a1 = [1,2,3]
a2 = [4,5,6]
<span class='keyword'>arrayappend</span>(a1,a2)
</div><span class='inline_code'>a2</span> is now <span class='inline_code'>[1,2,3,[4,5,6]]</span> </div></div><div id='58' class='function'>arrayfind(array, value)<div class='desc'>Returns the index of <span class='inline_code'>value</span> in <span class='inline_code'>array</span></div><div class='function text'>Indexes for arrays start at 0.<div class='line_break'></div> If the <span class='inline_code'>value</span> can't be found, <span class='inline_code'>null</span> is returned. </div></div><div id='59' class='function'>arrayremoveindex(array, index)<div class='desc'>Removes <span class='inline_code'>index</span> from an array.</div><div class='function text'>If the 'index' is out of bounds, then nothing happens. <div class='code_block'>a = [1,2,3,4]
<span class='keyword'>arrayremoveindex</span>(a,1)
</div><span class='inline_code'>a</span> is now <span class='inline_code'>[1,3,4]</span> </div></div><div id='60' class='function'>arrayfindremove(array, value)<div class='desc'>Removes <span class='inline_code'>value</span> from an array.</div><div class='function text'>Only the first occurrence of <span class='inline_code'>value</span> is removed.<div class='line_break'></div> If a <span class='inline_code'>value</span> was removed then <span class='inline_code'>1</span> is returned, otherwise <span class='inline_code'>0</span> is returned. </div></div><div id='61' class='function'>arrayinsertbefore(array, index, value)<div class='desc'>Insert <span class='inline_code'>value</span> into an array before <span class='inline_code'>index</span></div><div class='function text'>If <span class='inline_code'>index</span> is <span class='inline_code'>0</span>  the <span class='inline_code'>value</span> is place at the beginning of the array<div class='line_break'></div> If <span class='inline_code'>index</span> is larger than the size of the array, the <span class='inline_code'>value</span> is appended. </div></div><div id='62' class='function'>arrayinsertafter(array, index, value)<div class='desc'>Insert <span class='inline_code'>value</span> into an array after <span class='inline_code'>index</span></div><div class='function text'>If <span class='inline_code'>index</span> is less than <span class='inline_code'>0</span> the <span class='inline_code'>value</span> is place at the beginning of the array<div class='line_break'></div> If <span class='inline_code'>index</span> is larger than the size of the array, the <span class='inline_code'>value</span> is appended. </div></div><div id='63' class='function'>arrayfirst(array)<div class='desc'>Returns the first element of an array</div><div class='function text'>If the size of the array is <span class='inline_code'>0</span>, then <span class='inline_code'>null</span> is returned.<div class='line_break'></div> This is the same as doing <span class='inline_code'>a?[0]</span> </div></div><div id='64' class='function'>arraylast(array)<div class='desc'>Returns the last element of an array</div><div class='function text'>If the size of the array is <span class='inline_code'>0</span>, then <span class='inline_code'>null</span> is returned.<div class='line_break'></div> This is the same as doing <span class='inline_code'>a?[sizeof(a)-1]</span> </div></div><div id='65' class='function'>arrayremovefirst(array)<div class='desc'>Removes the first element of an array</div><div class='function text'>If the size of the array is <span class='inline_code'>0</span>, nothing is removed. </div></div><div id='66' class='function'>arrayremovelast(array)<div class='desc'>Removes the last element of an array</div><div class='function text'>If the size of the array is <span class='inline_code'>0</span>, nothing is removed. </div></div><div id='67' class='function'>arrayshuffle(array)<div class='desc'>Randomly shuffles an array</div><div class='function text'></div></div><div id='68' class='function'>arrayfilter(array, function)<div class='desc'>Returns a new array that has been filtered with <span class='inline_code'>function</span></div><div class='function text'>a2 = arrayfilter(a1, function(index, value) { <div class='code_block'>    <span class='keyword'>if</span> (value == <span class='string'>"dead"</span>) {
        <span class='keyword'>return</span> <span class='keyword'>false</span>
    } <span class='keyword'>else</span> {
        <span class='keyword'>return</span> <span class='keyword'>true</span>
    }
})
</div>If the <span class='inline_code'>function</span> returns true, the value is kept, otherwise it is discarded. The original <span class='inline_code'>array</span> is not modified. </div></div><div id='69' class='function'>arrayapply(array, function)<div class='desc'>Returns an array after applying <span class='inline_code'>function</span> to each element</div><div class='function text'><div class='code_block'>a1 = [ <span class='string'>"Dolores"</span>, <span class='string'>"Ray"</span> ]
a2 = <span class='keyword'>arrayfilter</span>(a1, <span class='keyword'>function</span>(value) {
    <span class='keyword'>return</span> value+<span class='string'>" is cool"</span>
})
</div><span class='inline_code'>a2[0]</span> is now "Delores is cool"<div class='line_break'></div> <span class='inline_code'>a2[1]</span> is now "Ray is cool" <div class='code_block'>   The original `array` is not modified.
</div></div></div><div id='70' class='function'>arraycount(array) | arraycount(array,value)<div class='desc'>Returns the number of <span class='inline_code'>non-null</span> elements in the <span class='inline_code'>array</span></div><div class='function text'>If the second form is used, it returns the number of elements that match <span class='inline_code'>value</span> <div class='code_block'>a = [ <span class='string'>"Frank"</span>, <span class='string'>"Ted"</span>, <span class='string'>"Bill"</span>, <span class='keyword'>null</span>, <span class='keyword'>null</span> ]
n = <span class='keyword'>arraycount</span>(a)
</div><span class='inline_code'>n</span> now equals <span class='inline_code'>3</span> <div class='code_block'>n = <span class='keyword'>arraycount</span>(a, <span class='keyword'>null</span>)
</div><span class='inline_code'>n</span> now equals <span class='inline_code'>2</span> <div class='code_block'>n = <span class='keyword'>arraycount</span>(a, <span class='string'>"Frank"</span>)
</div><span class='inline_code'>n</span> now equals <span class='inline_code'>1</span> </div></div><div id='71' class='function'>arraysort(array[,func=null]) | arrayrsort(array[,func=null)<div class='desc'>Sorts an array in place</div><div class='function text'><div class='code_block'>a = [3,2,1]
<span class='keyword'>arraysort</span>(a)
</div><span class='inline_code'>a</span> now equals <span class='inline_code'>[1,2,3]</span> <div class='code_block'>a = [3,2.9,1]
<span class='keyword'>arraysort</span>(a)
</div><span class='inline_code'>a</span> now equals <span class='inline_code'>[1,2.9,3]</span> <div class='code_block'>a = [<span class='string'>"ccc"</span>, <span class='string'>"bbb"</span>, <span class='string'>"aaa"</span>]
<span class='keyword'>arraysort</span>(a)
</div><span class='inline_code'>a</span> now equals <span class='inline_code'>["aaa", "bbb", "ccc"]</span> <div class='code_block'>a = [<span class='string'>"ccc"</span>, <span class='keyword'>null</span>, <span class='string'>"aaa"</span>]
<span class='keyword'>arraysort</span>(a)
</div><span class='inline_code'>a</span> now equals <span class='inline_code'>[null, "aaa", "ccc"]</span> <div class='code_block'>a = [<span class='string'>"ccc"</span>, [7,8,9], 50]
<span class='keyword'>arraysort</span>(a)

</div>If <span class='inline_code'>func</span> is provided, it will be called for each object in the array and expected to return the value to sort by. <div class='code_block'><span class='keyword'>function</span> my_key(t) {
    <span class='keyword'>return</span> t.name
}
a = [ { name = <span class='string'>"c"</span> }, { name = <span class='string'>"a"</span> }, { name = <span class='string'>"b"</span>} ]
<span class='keyword'>arraysort</span>(a, my_key)   <span class='comment'>// is now [ { name = <span class='string'>"a"</span> }, { name = <span class='string'>"b"</span> }, { name = <span class='string'>"c"</span>} ]</span>
<span class='keyword'>arrayrsort</span>(a, my_key)  <span class='comment'>// is now [ { name = <span class='string'>"c"</span> }, { name = <span class='string'>"b"</span> }, { name = <span class='string'>"a"</span>} ]</span>

</div>Sorting arrays with different types is undefined behavior. </div></div></div><p class='copyright'>Copyright 2020 Terrible Toybox, Inc. All Rights Reserved.</p></body></html>