<html><head><link rel='stylesheet' href='../HelpDocs/help.css'><link href='https://fonts.googleapis.com/css?family=Roboto:300|Ubuntu:300' rel='stylesheet'></head><body><span class='button'><a href='home.html'>Home</a></span><span class='button'><a href='index.html'>Index</a></span><html><head><link rel='stylesheet' href='help.css'></head><body><h1>Sound Functions</h1><div class='section text'><div class='line_break'></div> </div><div class='function_list'><div id='2' class='function'>soundMixVolume(name,volume) | soundMixVolume(name)<div class='desc'>Sets or gets the mix volume for a group of sounds.</div><div class='function text'>The <span class='inline_code'>group</span> is a <span class='inline_code'>string</span> that represents the FMOD mixer group.  It will be one of "music", "effects", "voice", or "master".  The <span class='inline_code'>volume</span> is <span class='inline_code'>float</span> from <span class='inline_code'>0.0</span> to <span class='inline_code'>1.0</span> <div class='code_block'>soundMixVolume(<span class='string'>"effects"</span>, 0.5)
</div></div></div><div id='3' class='function'>soundVolume(name,volume) | soundMixVolume(name)<div class='desc'>Sets or gets the volume for a group of sounds.</div><div class='function text'>The <span class='inline_code'>group</span> is a <span class='inline_code'>string</span> that represents the FMOD mixer group.  It will be one of "music", "effects", "voice", or "master".  The <span class='inline_code'>volume</span> is <span class='inline_code'>float</span> from <span class='inline_code'>0.0</span> to <span class='inline_code'>1.0</span> <div class='code_block'>soundVolume(<span class='string'>"music"</span>, 0.0)
</div>The different between <span class='inline_code'>soundVolume()</span> and <span class='inline_code'>soundMixVolume()</span> is that <span class='inline_code'>soundVolume()</span> is applied after <span class='inline_code'>soundMixVolume()</span> and it's value is not saved or relected in game's UI for sound volume. <div class='line_break'></div> It can be used to mute the <span class='inline_code'>music</span> without effecting the overall game volume settings. </div></div><div id='4' class='function'>defineSound(path)<div class='desc'>defines a sounds based on a FMOD sound path <span class='inline_code'>string</span></div><div class='function text'><div class='code_block'>doorOpen = defineSound(<span class='string'>"event:/objects/doors/door_open"</span>)
</div>By convention, sounds are wrapped in a macro to make them easier to identity. <div class='code_block'>SOUNDID(doorOpen) = defineSound(<span class='string'>"event:/objects/doors/door_open"</span>)
</div>also by convention, sounds should be defined in <span class='inline_code'>DefineSounds.dinky</span> </div></div><div id='5' class='function'>validateSound(path)<div class='desc'>Returns <span class='inline_code'>true</span> if the sound <span class='inline_code'>path</span> exists in the FMOD project.</div><div class='function text'></div></div><div id='6' class='function'>loadSoundBank(name)<div class='desc'>Loads a FMOD sound bank.</div><div class='function text'>By default, the "MasterBank.bank" is loaded. There should be no reason to load other banks. </div></div><div id='7' class='function'>soundParam(sound_uid,name,value)<div class='desc'>Sets a FMOD sounds parameter for a given playing <span class='inline_code'>sound_uid</span>.</div><div class='function text'></div></div><div id='8' class='function'>stopSound(sound_uid)<div class='desc'>Stops a playing sound given a <span class='inline_code'>sound_uid</span>.</div><div class='function text'><div class='code_block'><span class='keyword'>local</span> uid = playSound(SOUNDID(rain))
<span class='keyword'>breaktime</span>(60.0)
stopSound(uid)
</div>The the sound is not playing, it will be silently ignored. <div class='line_break'></div> <span class='inline_code'>stopSound()</span> abruptly stops the sound. In you want to fade out a sound (or music) that needs to be setup within FMOD for each sound using parameters.  It is beyond the scope of this document to detail how that is done. </div></div><div id='9' class='function'>isSoundPlaying(sound_uid)<div class='desc'>returns <span class='inline_code'>true</span> or <span class='inline_code'>false</span> if the sound is playing</div><div class='function text'></div></div><div id='10' class='function'>stopLocalSounds()<div class='desc'>Stops all sounds not started with GLOBAL flag.</div><div class='function text'></div></div><div id='11' class='function'>stopAllSounds(group="master")<div class='desc'>Stops all sounds in a given <span class='inline_code'>group</span>.</div><div class='function text'><div class='code_block'>stopAllSounds(<span class='string'>"music"</span>)
</div></div></div><div id='12' class='function'>pauseAllSounds(group="master", state)<div class='desc'>pauses all sounds in the <span class='inline_code'>group</span></div><div class='function text'><div class='code_block'>pauseAllSounds(<span class='string'>"music"</span>, YES)
</div></div></div><div id='13' class='function'>playSound(name|sound_id[,global])<div class='desc'>plays a sound given a <span class='inline_code'>name</span> or <span class='inline_code'>sound_id</span></div><div class='function text'><div class='code_block'><span class='keyword'>local</span> uid = playSound(SOUNDID(rain))
playSound(SOUNDID(bigBang))
playSound(<span class='string'>"event:/objects/doors/door_open"</span>)
playSound(SOUNDID(typing),GLOBAL)

</div>The last form is not recommended as it is slower than using <span class='inline_code'>defineSound()</span> and scatters the path information about sounds throughout the source code, making them harder to change globally. <div class='line_break'></div> If you don't pass the global option, the sound will be local and killed when leaving the room. <div class='line_break'></div> <span class='inline_code'>playSound()</span> returns a uid for the playing sound.  If you don't need to manipulate the sound once it's playing, the return can be ignored. </div></div><div id='14' class='function'>playSoundVolume(sound_uid,volume)<div class='desc'>Plays a sound at a specified <span class='inline_code'>volume</span></div><div class='function text'><div class='code_block'>playSound(SOUNDID(rain), 0.5)
</div>Sound volumes should be modified in FMOD and only use <span class='inline_code'>playSoundVolume()</span> when a specific instance needs to be lower.  Even in that case, using FMOD and FMOD parameters might be better and more flexible. </div></div><div id='15' class='function'>playSoundAt(sound_uid,point)<div class='desc'>Plays a sounds at a location.</div><div class='function text'>Sounds can have a 2D location that will be tracked by the camera as it moves. <div class='line_break'></div> Tracking sounds can be slightly processor expensive and should only be used for consistent environmental sounds. One shot sounds (like a bang) shouldn't use <span class='inline_code'>playSoundAt()</span>. <div class='line_break'></div> That said, there isn't much overhead for call <span class='inline_code'>playSoundAt()</span> on a non-2D sound, so it can be done in anticipation of making the sound 2D in FMOD at some point. </div></div><div id='16' class='function'>soundListenerAt(point)<div class='desc'>Sets the sound listener position.</div><div class='function text'>This is generally handled by the engine and should not be set by the scripts unless the sound listener needs to be off-camera. </div></div></div><p class='copyright'>Copyright 2020 Terrible Toybox, Inc. All Rights Reserved.</p></body></html>